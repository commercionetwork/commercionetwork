(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{298:function(e,t,a){e.exports=a.p+"assets/img/invitation_email.7f661a15.png"},299:function(e,t,a){e.exports=a.p+"assets/img/accept_tos.028854b6.png"},300:function(e,t,a){e.exports=a.p+"assets/img/choose_a_password.7d52d515.png"},301:function(e,t,a){e.exports=a.p+"assets/img/setup_account_and_assigning_membership_green.0156aaca.png"},302:function(e,t,a){e.exports=a.p+"assets/img/account_and_membership_assigned.42a73a55.png"},303:function(e,t,a){e.exports=a.p+"assets/img/expired_invite.6c6dd66d.png"},339:function(e,t,a){"use strict";a.r(t);var s=a(14),r=Object(s.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"commercioapi-ekyc"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#commercioapi-ekyc"}},[e._v("#")]),e._v(" CommercioAPI eKyC")]),e._v(" "),t("h2",{attrs:{id:"invite-user"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#invite-user"}},[e._v("#")]),e._v(" Invite user")]),e._v(" "),t("p",[e._v("This API permit to invite a user or verify if a user is already present in commercio through a check of his email")]),e._v(" "),t("h3",{attrs:{id:"path"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#path"}},[e._v("#")]),e._v(" PATH")]),e._v(" "),t("p",[e._v("POST : "),t("code",[e._v("/eidentity/invite")])]),e._v(" "),t("h3",{attrs:{id:"step-by-step-example"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#step-by-step-example"}},[e._v("#")]),e._v(" Step by step Example")]),e._v(" "),t("p",[e._v("Let's create a new process to check if a user already exist")]),e._v(" "),t("h4",{attrs:{id:"step-1-define-the-first-query-and-payload"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#step-1-define-the-first-query-and-payload"}},[e._v("#")]),e._v(" Step 1 - Define the first query and payload")]),e._v(" "),t("p",[e._v("Parameter value :")]),e._v(" "),t("ul",[t("li",[e._v("Email to chack : es "),t("code",[e._v("john.doe@email.com")])])]),e._v(" "),t("h4",{attrs:{id:"step-2-use-the-api-to-send-the-message"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#step-2-use-the-api-to-send-the-message"}},[e._v("#")]),e._v(" Step 2 - Use the API to Send the message")]),e._v(" "),t("p",[t("strong",[e._v("Use the tryout")])]),e._v(" "),t("p",[e._v("Fill the swagger tryout with the payload")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('{\n  "email_address": "john.doe@email.com"\n}\n')])])]),t("p",[t("strong",[e._v("Corresponding Cli request")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("curl -X 'POST' \\\n  'https://dev-api.commercio.app/v1/eidentity/invite' \\\n  -H 'accept: application/json' \\\n  -H 'Authorization: Bearer eyJhbGciOi....knnxylF4CA' \\\n  -H 'Content-Type: application/json' \\\n  -d '{\n  \"email_address\": \"john.doe@email.com\"\n}'\n")])])]),t("p",[t("strong",[e._v("API : Body response")])]),e._v(" "),t("p",[t("strong",[e._v("A) Not Existing user")])]),e._v(" "),t("p",[e._v("In case the user doesn't exist in the platform (unkown user) the paltfrom instatiate an invitation process")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('{\n  "user_id": "6e10447f-a956-49b2-a22b-a94ba5d05276",\n  "sent": true\n}\n')])])]),t("p",[t("strong",[e._v("B) Existing user")])]),e._v(" "),t("p",[e._v("Simply will be returned the wallet address associated to the email user account of the platform  indicated as payload of the APi Request")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('{\n  "wallet_address": "did:com:1tq5mvp7j4vtew08htaswsyjugzewe4jyph20qr"\n}\n')])])]),t("h3",{attrs:{id:"not-existing-user-workflow"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#not-existing-user-workflow"}},[e._v("#")]),e._v(" Not Existing user workflow")]),e._v(" "),t("p",[e._v("When a A) Not Existing user reply is received by the api an oboarding workflow start")]),e._v(" "),t("ol",[t("li",[e._v("An invitation email will be sent to the user containing a magick link")])]),e._v(" "),t("p",[t("img",{attrs:{src:a(298),alt:"Modal"}})]),e._v(" "),t("ol",{attrs:{start:"2"}},[t("li",[e._v("As the user click the link will be onboarded in the commercio.app")])]),e._v(" "),t("p",[t("strong",[e._v("2.a) He has to accept the Term of services")])]),e._v(" "),t("p",[t("img",{attrs:{src:a(299),alt:"Modal"}})]),e._v(" "),t("p",[t("strong",[e._v("2.b) He has to choose a password for future login in the app and use of the api services")])]),e._v(" "),t("p",[t("img",{attrs:{src:a(300),alt:"Modal"}})]),e._v(" "),t("p",[t("strong",[e._v("2.c) He has to wait for the account setup and membership assignement")])]),e._v(" "),t("p",[t("img",{attrs:{src:a(301),alt:"Modal"}})]),e._v(" "),t("p",[t("strong",[e._v("2.d) He will receive a Green Membership  with a 1CCC in his wallet for free")])]),e._v(" "),t("p",[t("img",{attrs:{src:a(302),alt:"Modal"}})]),e._v(" "),t("h3",{attrs:{id:"send-email-parameter"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#send-email-parameter"}},[e._v("#")]),e._v(" send_email parameter")]),e._v(" "),t("p",[e._v("Is a parameter permitted only for invites from Gold membership members that allows deactivation of the email sending invitation . The invite URL will be displayed as a response to the API.")]),e._v(" "),t("h3",{attrs:{id:"password-parameter"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#password-parameter"}},[e._v("#")]),e._v(" password parameter")]),e._v(" "),t("p",[e._v("Is a parameter permitted only for invites from Gold membership members that allows to directly set the password for the invited user. The password to the user must be comunicated out of the platform or the user could use the forgot password procedire in the platform login page")]),e._v(" "),t("h3",{attrs:{id:"workflow-completed-webhook-callback"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#workflow-completed-webhook-callback"}},[e._v("#")]),e._v(" workflow_completed_webhook_callback")]),e._v(" "),t("p",[e._v("At the end of the workflow  process istantiated through the API parameters , a POST call is made to the URL specified in the workflow_completed_webhook_callback parameter.")]),e._v(" "),t("p",[e._v("The body of the POST request is as follows:")]),e._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"message"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"The user has successfully completed the onboarding workflow."')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"wallet_address"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"did:com:1ffsmvvt29r....a5gwdre46tkz22n7vdj"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"user"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"john.doe@userdomain.com"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"success"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("true")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("p",[e._v("Where user is the email provided as a parameter to the invite endpoint, and thus the email of the new user.\nThis Post Call is invoked at the end of all steps of the workflow defined. Differently from other parameter\n"),t("code",[e._v("workflow_wallet_created_callback")]),e._v(" invoked just after wallet creation and membership assignement")]),e._v(" "),t("h3",{attrs:{id:"requires-spid-identification"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#requires-spid-identification"}},[e._v("#")]),e._v(" requires_spid_identification")]),e._v(" "),t("p",[e._v("If this parameter is set = true the user after onboarding will be redirected to SPID authentication process")]),e._v(" "),t("p",[e._v("Example Body Payload")]),e._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"email_address"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"john.doe@yourdomain.com"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"requires_spid_identification"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"password"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"JhonDOe8"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"workflow_completed_redirect_uri"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"https://www.yourdomain.com"')]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n\n")])])]),t("p",[e._v("With these parameters in the payload, the user, after clicking the invitation link and accepting the TOS, will be redirected to the SPID authentication process. After completing it, they will be directed to the URL 'https://www.yourdomain.com.'\"")]),e._v(" "),t("h3",{attrs:{id:"workflow-wallet-created-callback"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#workflow-wallet-created-callback"}},[e._v("#")]),e._v(" workflow_wallet_created_callback")]),e._v(" "),t("p",[e._v("At the end of the onboarding process, which occurs after the user has accepted the invitation throught a magic link and completed the onboarding procedure (Tos acceptance,assignment of membership) , a POST call is made to the URL specified in the workflow_wallet_created_callback parameter.")]),e._v(" "),t("p",[e._v("The body of the POST request is as follows:")]),e._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n....\n\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"user"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"john.doe@userdomain.com"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"success"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("true")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("p",[e._v("Where user is the email provided as a parameter to the invite endpoint, and thus the email of the new user.")]),e._v(" "),t("p",[e._v("Pay attention this POST is invoked just after wallet creation and membership assignement even if the workflow\ndefined by other parameters is not completed")]),e._v(" "),t("h4",{attrs:{id:"common-question"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#common-question"}},[e._v("#")]),e._v(" Common Question")]),e._v(" "),t("p",[t("strong",[e._v("Which are the users recognized by the APIs ? ")])]),e._v(" "),t("p",[e._v("The API obviuosly return datas relative only to existing users account with a hosted wallet in the commercio.app platform.")]),e._v(" "),t("p",[t("strong",[e._v("Does the invitation has a validity time ? ")])]),e._v(" "),t("p",[e._v("Yes, the invitation lasts for 24 hours. When it expires and is clicked, the application will show this page.")]),e._v(" "),t("p",[t("img",{attrs:{src:a(303),alt:"Modal"}})]),e._v(" "),t("p",[e._v("Regardless, the user is created and can retrieve the password through the 'Forgot Password' link.")]),e._v(" "),t("h2",{attrs:{id:"verify-credentials"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#verify-credentials"}},[e._v("#")]),e._v(" Verify Credentials")]),e._v(" "),t("p",[e._v("This API permit to check a user level of accreditation")]),e._v(" "),t("h3",{attrs:{id:"path-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#path-2"}},[e._v("#")]),e._v(" PATH")]),e._v(" "),t("p",[e._v("POST : "),t("code",[e._v("/ekyc")])]),e._v(" "),t("h3",{attrs:{id:"step-by-step-example-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#step-by-step-example-2"}},[e._v("#")]),e._v(" Step by step Example")]),e._v(" "),t("p",[e._v("Let's create a new process to check the level of accreditation of a user")]),e._v(" "),t("h4",{attrs:{id:"step-1-define-the-first-query-and-payload-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#step-1-define-the-first-query-and-payload-2"}},[e._v("#")]),e._v(" Step 1 - Define the first query and payload")]),e._v(" "),t("p",[e._v("Parameter value :")]),e._v(" "),t("ul",[t("li",[e._v("Address to check : es "),t("code",[e._v("did:com:1tq5mvp7j4vtew08htaswsyjugzewe4jyph20qr")])])]),e._v(" "),t("h4",{attrs:{id:"step-2-use-the-api-to-send-the-message-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#step-2-use-the-api-to-send-the-message-2"}},[e._v("#")]),e._v(" Step 2 - Use the API to Send the message")]),e._v(" "),t("p",[t("strong",[e._v("Use the tryout")])]),e._v(" "),t("p",[e._v("Fill the swagger tryout with the payload")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("did:com:1tq5mvp7j4vtew08htaswsyjugzewe4jyph20qr`\n")])])]),t("p",[t("strong",[e._v("Corresponding Cli request")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("curl -X 'GET' \\\n  'https://dev-api.commercio.app/v1/eKYC/did%3Acom%3A1tq5mvp7j4vtew08htaswsyjugzewe4jyph20qr' \\\n  -H 'accept: application/json' \\\n  -H 'Authorization: Bearer eyJhbGciOiJSUzI1NiI..... X1v0SyprA'\n\n")])])]),t("p",[t("strong",[e._v("API : Body response")])]),e._v(" "),t("p",[t("strong",[e._v("Other user")])]),e._v(" "),t("p",[e._v("The common response is as follow")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('{\n  "credentials": [\n    {\n      "audit": "email",\n      "started_at": "2022-02-02T10:27:46Z"\n    },\n    {\n      "audit": "mobile_number",\n      "started_at": "2022-03-03T10:27:46Z"\n    },\n    {\n      "audit": "credit_card",\n      "started_at": "2023-02-22T16:34:02Z"\n    },\n    {\n      "audit": "public_digital_identity_system",\n      "started_at": "2023-03-29T13:57:21Z"\n    }\n  ]\n}\n')])])]),t("p",[t("strong",[e._v("Your wallet")]),e._v("\nIn case you are the owner of the wallet address indicated in the payload the  Body response will contain also the datas fo the accreditation audit in the optional entity "),t("code",[e._v("content")])]),e._v(" "),t("p",[e._v("Example :")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('{\n  "credentials": [\n    {\n      "audit": "email",\n      "started_at": "2022-02-02T10:27:46Z"\n    },\n    {\n      "audit": "mobile_number",\n      "started_at": "2022-03-03T10:27:46Z"\n    },\n    {\n      "audit": "credit_card",\n      "started_at": "2023-02-22T16:34:02Z"\n    },\n    {\n      "audit": "public_digital_identity_system",\n      "started_at": "2023-03-29T13:57:21Z",\n      "content": "ewogICJhZGRyZXNzIjogIlZpYSAgTWFyaWFuaSA0MCAzNjAxNSAgTWVsYm91cm5lIFZJIiwKICAiY29tcGFueV9maXNjYWxfbnVtYmVyIjogIiIsCiAgImNvbXBhbnlfbmFtZSI6ICItIiwKICAiY291bnRyeV9vZl9iaXJ0aCI6ICJWSSIsCiAgImRhdGVfb2ZfYmlydGgiOiAiMTk0My0xMi0wOCIsCiAgImRpZ2l0YWxfYWRkcmVzcyI6ICItIiwKICAiZG9taWNpbGVfbXVuaWNpcGFsaXR5IjogIiBNZWxib3VybmUiLAogICJkb21pY2lsZV9uYXRpb24iOiAiVVNBIiwKICAiZG9taWNpbGVfcG9zdGFsX2NvZGUiOiAiMzYwMTUiLAogICJkb21pY2lsZV9wcm92aW5jZSI6ICJWSSIsCiAgImRvbWljaWxlX3N0cmVldF9hZGRyZXNzIjogIlZpYSAgTWFyaWFuaSA0MCIsCiAgImVtYWlsIjogImpvaG4uZG9lQGVtYWlsbC5jb20iLAogICJmYW1pbHlfbmFtZSI6ICJNb3JyaXNvbiIsCiAgImZpc2NhbF9udW1iZXIiOiAiVElOSVQtSk1NTVJTNDNMMDhMODQwUiIsCiAgImdlbmRlciI6ICJNIiwKICAiaWRfY2FyZCI6ICJjYXJ0YUlkZW50aXRhIENBMjMxMTM0NUhQIGNvbXVuZSBNZWxib3VybmUgMjAzMS0wNy0yMyIsCiAgIml2YV9jb2RlIjogIi0iLAogICJtb2JpbGVfcGhvbmUiOiAiKzM5MzQ4MTExMTExMTExIiwKICAibmFtZSI6ICJKaW0iLAogICJyZWdpc3RlcmVkX29mZmljZSI6ICItIgp9"\n    }\n  ]\n}\n')])])]),t("p",[e._v("The "),t("code",[e._v("content")]),e._v(" data is base 64 encoded.")]),e._v(" "),t("p",[e._v("Thus decoding it will appear somthing like this depending on the data received form de IDP provider")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('{\n  "name": "Jim",\n  "family_name": "Morrison",\n  "fiscal_number": "TINIT-JMMMRS43L08L840R",\n  "date_of_birth": "1943-12-08",\n  "country_of_birth": "IT",\n  "gender": "M",\n  "company_name": "-",\n  "company_fiscal_number": "",\n  "iva_code": "-",\n.... ....\n\n  "address": "Via  Mariani 40 36015  Melbourne VI",\n  "digital_address": "-",\n  "domicile_municipality": " Melbourne",\n  "domicile_nation": "USA",\n  "domicile_postal_code": "36015",\n  "domicile_province": "VI",\n  "domicile_street_address": "Via  Mariani 40",\n  "email": "john.doe@emaill.com",\n  "id_card": "cartaIdentita CA2311345HP comune Melbourne 2031-07-23",\n  "mobile_phone": "+39348111111111",\n  "registered_office": "-"\n}\n\n\n\n')])])]),t("h4",{attrs:{id:"common-error"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#common-error"}},[e._v("#")]),e._v(" Common error")]),e._v(" "),t("h2",{attrs:{id:"request-spid-session"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#request-spid-session"}},[e._v("#")]),e._v(" Request SPID session")]),e._v(" "),t("p",[e._v("This API permit to obtain a direct link for a spid session for the user logged in the api")]),e._v(" "),t("h3",{attrs:{id:"path-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#path-3"}},[e._v("#")]),e._v(" PATH")]),e._v(" "),t("p",[e._v("POST : "),t("code",[e._v("/ekyc/spid")])]),e._v(" "),t("h3",{attrs:{id:"step-by-step-example-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#step-by-step-example-3"}},[e._v("#")]),e._v(" Step by step Example")]),e._v(" "),t("p",[e._v("Let's create a request to obtain the spid session url")]),e._v(" "),t("h4",{attrs:{id:"step-1-define-the-first-query-and-payload-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#step-1-define-the-first-query-and-payload-3"}},[e._v("#")]),e._v(" Step 1 - Define the first query and payload")]),e._v(" "),t("p",[e._v("Parameter value :")]),e._v(" "),t("ul",[t("li",[e._v("success_url : es "),t("code",[e._v('"https://www.yourlandingurl.com')])])]),e._v(" "),t("p",[e._v("Is the url where the user are redirected at the end of Spid recognition process (Spid authentication)")]),e._v(" "),t("h4",{attrs:{id:"step-2-use-the-api-to-send-the-message-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#step-2-use-the-api-to-send-the-message-3"}},[e._v("#")]),e._v(" Step 2 - Use the API to Send the message")]),e._v(" "),t("p",[t("strong",[e._v("Use the tryout")])]),e._v(" "),t("p",[e._v("Fill the swagger tryout with the Body payload")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('{\n  "success_url": "https://www.yourlandingurl.com"\n}\n')])])]),t("p",[t("strong",[e._v("Corresponding Cli request")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("curl -X 'GET' \\\ncurl -X 'POST' \\\n  'https://dev-api.commercio.app/v1/eKYC/spid' \\\n  -H 'accept: application/json' \\\n  -H 'Authorization: Bearer eyJhbGciOiJSUzI1....54Eg' \\\n  -H 'Content-Type: application/json' \\\n  -d '{\n  \"success_url\": \"https://www.yourlandingurl.com\"\n}'\n\n")])])]),t("p",[t("strong",[e._v("API : Body response")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('\n{\n  "authentication_url": "https://spid.commercio.app/?subject_id=19fcd4f6-80cc-42ce-8eac-3b276d9794eb&success_redirect_uri=https://www.yourlandingurl.com&attributes_uri=https://commercio.app"\n}\n\n```\n\nThe URL can be used by the user to perform SPID authentication and save data on the platform for recognition. After the SPID authentication, the user will be redirected to \'https://www.yourlandingurl.com.\'\n\n\n\n#### Common error')])])])])}),[],!1,null,null,null);t.default=r.exports}}]);